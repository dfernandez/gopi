<!doctype html>
<html>
<head>
    <title>web sockets</title>
    <script src="//code.jquery.com/jquery-3.1.1.min.js"></script>
    <script>
        var connection;

        function connect() {
            connection = new WebSocket('ws://localhost:8080/ws');

            // Log errors
            connection.onerror = function (error) {
                console.log('WebSocket Error ' + error);
            };

            // Log messages from the server
            connection.onmessage = function (e) {
                switch (true) {
                    case e.data == "button_timer_off":
                        $('#button').html('OFF')
                        break;
                    default:
                        console.log('Server: ' + e.data);
                }
            };
        }

        function button_timer_on() {
            connection.send('button_timer_on')

            $('#button').html('ON')
        }
    </script>
</head>
<body onload="connect()">
    <button id="button" onclick="button_timer_on()">OFF</button>
</body>
</html>